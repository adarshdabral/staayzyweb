(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10708,e=>{"use strict";var t=e.i(43476),s=e.i(71645);e.i(74080);var r=e.i(91918),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let a=(0,r.createSlot)(`Primitive.${i}`),n=s.forwardRef((e,s)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?a:i,{...n,ref:s})});return n.displayName=`Primitive.${i}`,{...e,[i]:n}},{}),a=s.forwardRef((e,s)=>(0,t.jsx)(i.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var n=e.i(25913),l=e.i(47163);let o=(0,n.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(a,{ref:r,className:(0,l.cn)(o(),e),...s}));d.displayName=a.displayName,e.s(["Label",()=>d],10708)},54616,e=>{"use strict";var t=e.i(71645),s=e.i(14272),r=e.i(40143),i=e.i(15823),a=e.i(19273),n=class extends i.Subscribable{#e;#t=void 0;#s;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,a.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,a.hashKey)(t.mutationKey)!==(0,a.hashKey)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#i(),this.#a()}mutate(e,t){return this.#r=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#i(){let e=this.#s?.state??(0,s.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#a(e){r.notifyManager.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#r.onSuccess?.(e.data,t,s,r)}catch(e){Promise.reject(e)}try{this.#r.onSettled?.(e.data,null,t,s,r)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#r.onError?.(e.error,t,s,r)}catch(e){Promise.reject(e)}try{this.#r.onSettled?.(void 0,e.error,t,s,r)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#t)})})}},l=e.i(12598);function o(e,s){let i=(0,l.useQueryClient)(s),[o]=t.useState(()=>new n(i,e));t.useEffect(()=>{o.setOptions(e)},[o,e]);let d=t.useSyncExternalStore(t.useCallback(e=>o.subscribe(r.notifyManager.batchCalls(e)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),c=t.useCallback((e,t)=>{o.mutate(e,t).catch(a.noop)},[o]);if(d.error&&(0,a.shouldThrowError)(o.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:c,mutateAsync:d.mutate}}e.s(["useMutation",()=>o],54616)},56026,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566),i=e.i(67881),a=e.i(23750),n=e.i(10708),l=e.i(70065),o=e.i(54616),d=e.i(12598),c=e.i(54858),u=e.i(99773),h=e.i(75254);let m=(0,h.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var p=e.i(37727);let x=(0,h.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function g({mode:e="create",initialData:h=null,propertyId:g,onSuccess:y}){let j=(0,r.useRouter)(),{toast:b}=(0,u.useToast)(),f=(0,d.useQueryClient)(),[v,C]=(0,s.useState)(1),[N,w]=(0,s.useState)(()=>({name:h?.name||"",nearestCollege:h?.nearestCollege||"",distanceFromCollege:h?.distanceFromCollege||"",facilities:h?.facilities||[],images:h?.images||[],files:[]})),[k,R]=(0,s.useState)(h?.rooms?.length?h.rooms.map(e=>({...e})):[{roomType:"single",capacity:1,availableCount:1,monthlyRent:"",securityDeposit:"",rules:[]}]),[P,T]=(0,s.useState)(""),[S,M]=(0,s.useState)(""),[F,q]=(0,s.useState)(0),B=(0,o.useMutation)({mutationFn:async t=>{let s=t.images||[];if(t.files&&t.files.length>0){let e=new FormData;t.files.forEach(t=>e.append("images",t)),s=(await c.default.post("/uploads/images",e)).data.urls||[]}if("create"===e){let e=await c.default.post("/properties",{name:t.name,nearestCollege:t.nearestCollege,distanceFromCollege:Number(t.distanceFromCollege),facilities:t.facilities,images:s}),r=e.data.property._id;for(let e of t.rooms)await c.default.post(`/properties/${r}/rooms`,{roomType:e.roomType,capacity:Number(e.capacity),availableCount:Number(e.availableCount),monthlyRent:Number(e.monthlyRent),securityDeposit:Number(e.securityDeposit),rules:e.rules});return e.data}let r=h?.images||[],i=t.images.filter(e=>r.includes(e)),a=t.images.filter(e=>!r.includes(e)),n={...t,existingImages:i,newImages:a,rooms:t.rooms};return delete n.files,delete n.images,(await c.default.put(`/properties/${g}`,n)).data},onSuccess:t=>{"create"===e?(b({title:"Property created",description:"Your property has been submitted for approval"}),f.invalidateQueries({queryKey:["owner-properties"]}),j.push("/owner/dashboard")):(b({title:"Property updated",description:"Property updated successfully"}),f.invalidateQueries({queryKey:["owner-properties"]}),y?y():j.push("/owner/dashboard"))},onError:e=>{b({title:"Error",description:e.response?.data?.message||"Failed to save property",variant:"destructive"})}}),D=()=>{P.trim()&&(w({...N,facilities:[...N.facilities,P.trim()]}),T(""))},O=()=>{if(S.trim()&&k[F]){let e=[...k];e[F].rules=[...e[F].rules,S.trim()],R(e),M("")}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 max-w-3xl",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-8",children:"create"===e?"List Your Property":"Edit Property"}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),B.mutate({...N,files:N.files,rooms:k})},children:[1===v&&(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)(l.CardTitle,{children:"Property Information"})}),(0,t.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{htmlFor:"name",children:"Property Name *"}),(0,t.jsx)(a.Input,{id:"name",value:N.name,onChange:e=>w({...N,name:e.target.value}),required:!0,placeholder:"e.g., Sunshine Apartments"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{htmlFor:"nearestCollege",children:"Nearest College *"}),(0,t.jsx)(a.Input,{id:"nearestCollege",value:N.nearestCollege,onChange:e=>w({...N,nearestCollege:e.target.value}),required:!0,placeholder:"e.g., MIT"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{htmlFor:"distance",children:"Distance from College (km) *"}),(0,t.jsx)(a.Input,{id:"distance",type:"number",step:"0.1",value:N.distanceFromCollege,onChange:e=>w({...N,distanceFromCollege:e.target.value}),required:!0,placeholder:"e.g., 2.5"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Facilities"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsx)(a.Input,{value:P,onChange:e=>T(e.target.value),placeholder:"e.g., WiFi, AC, Parking",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),D())}),(0,t.jsx)(i.Button,{type:"button",onClick:D,children:(0,t.jsx)(m,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:N.facilities.map((e,s)=>(0,t.jsxs)("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm flex items-center gap-2",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>{w({...N,facilities:N.facilities.filter((e,t)=>t!==s)})},className:"hover:text-primary/80",children:(0,t.jsx)(p.X,{className:"h-3 w-3"})})]},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Property Images"}),(0,t.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[(0,t.jsx)(x,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,t.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let t=Array.from(e.target.files||[]);if(0===t.length)return;let s=t.map(e=>URL.createObjectURL(e));w({...N,images:[...N.images,...s],files:[...N.files,...t]})},className:"hidden",id:"image-upload"}),(0,t.jsx)("label",{htmlFor:"image-upload",children:(0,t.jsx)(i.Button,{type:"button",variant:"outline",asChild:!0,children:(0,t.jsx)("span",{children:"Upload Images"})})}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Upload multiple images of your property"})]}),N.images.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2 mt-4",children:N.images.map((e,s)=>(0,t.jsxs)("div",{className:"relative h-24 bg-gray-200 rounded",children:[(0,t.jsx)("img",{src:e,alt:`Property ${s+1}`,className:"w-full h-full object-cover rounded"}),(0,t.jsx)("button",{type:"button",onClick:()=>w({...N,images:N.images.filter((e,t)=>t!==s)}),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",children:(0,t.jsx)(p.X,{className:"h-3 w-3"})})]},s))})]}),(0,t.jsx)(i.Button,{type:"button",onClick:()=>C(2),className:"w-full",children:"Next: Add Rooms"})]})]}),2===v&&(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)(l.CardTitle,{children:"Room Information"})}),(0,t.jsxs)(l.CardContent,{className:"space-y-4",children:[k.map((e,s)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h3",{className:"font-semibold",children:["Room ",s+1]}),k.length>1&&(0,t.jsx)(i.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{R(k.filter((e,t)=>t!==s)),F>=k.length-1&&q(Math.max(0,F-1))},children:(0,t.jsx)(p.X,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Room Type *"}),(0,t.jsxs)("select",{value:e.roomType,onChange:e=>{let t=[...k];t[s].roomType=e.target.value,R(t)},className:"w-full px-3 py-2 border rounded-md",required:!0,children:[(0,t.jsx)("option",{value:"single",children:"Single"}),(0,t.jsx)("option",{value:"sharing",children:"Sharing"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Capacity *"}),(0,t.jsx)(a.Input,{type:"number",min:"1",value:e.capacity,onChange:e=>{let t=[...k];t[s].capacity=e.target.value,R(t)},required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Available Count *"}),(0,t.jsx)(a.Input,{type:"number",min:"0",value:e.availableCount,onChange:e=>{let t=[...k];t[s].availableCount=e.target.value,R(t)},required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Monthly Rent (₹) *"}),(0,t.jsx)(a.Input,{type:"number",min:"0",value:e.monthlyRent,onChange:e=>{let t=[...k];t[s].monthlyRent=e.target.value,R(t)},required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Security Deposit (₹) *"}),(0,t.jsx)(a.Input,{type:"number",min:"0",value:e.securityDeposit,onChange:e=>{let t=[...k];t[s].securityDeposit=e.target.value,R(t)},required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Room Rules"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsx)(a.Input,{value:s===F?S:"",onChange:e=>{M(e.target.value),q(s)},placeholder:"e.g., No smoking, No pets",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),O())}),(0,t.jsx)(i.Button,{type:"button",onClick:()=>{q(s),O()},children:(0,t.jsx)(m,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.rules.map((e,s)=>(0,t.jsxs)("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-sm flex items-center gap-2",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>{let e;(e=[...k])[F].rules=e[F].rules.filter((e,t)=>t!==s),R(e)},className:"hover:text-red-500",children:(0,t.jsx)(p.X,{className:"h-3 w-3"})})]},s))})]})]},s)),(0,t.jsxs)(i.Button,{type:"button",onClick:()=>{R([...k,{roomType:"single",capacity:1,availableCount:1,monthlyRent:"",securityDeposit:"",rules:[]}]),q(k.length),C(2)},variant:"outline",className:"w-full",children:[(0,t.jsx)(m,{className:"h-4 w-4 mr-2"}),"Add Another Room Type"]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(i.Button,{type:"button",onClick:()=>C(1),variant:"outline",className:"flex-1",children:"Back"}),(0,t.jsx)(i.Button,{type:"submit",disabled:B.isPending,className:"flex-1",children:B.isPending?"Submitting...":"create"===e?"Submit Property":"Save Changes"})]})]})]})]})]})})}function y(){return(0,t.jsx)(g,{mode:"create"})}e.s(["PropertyForm",()=>g,"default",()=>y],56026)},39403,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566),i=e.i(22016),a=e.i(94351),n=e.i(87316),l=e.i(61911),o=e.i(12426),d=e.i(86536);let c=(0,e.i(75254).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var u=e.i(43531),h=e.i(37727),m=e.i(67881),p=e.i(70065),x=e.i(27341),g=e.i(66027),y=e.i(54616),j=e.i(12598),b=e.i(54858),f=e.i(4421),v=e.i(99773),C=e.i(56026);function N(){let e=(0,r.useRouter)(),d=(0,j.useQueryClient)(),{user:c,token:u}=(0,f.useAuthStore)(),{toast:h}=(0,v.useToast)();(0,s.useEffect)(()=>{u?c&&"owner"!==c.role&&e.replace("/"):e.replace("/auth/login")},[u,c?.role,e]);let N=(0,r.useSearchParams)(),T=N.get("mode"),S=N.get("propertyId"),M="edit"===T&&!!S,{data:F=[]}=(0,g.useQuery)({queryKey:["owner-properties"],queryFn:async()=>(await b.default.get("/properties?owner=me")).data,enabled:!!u}),{data:q=[]}=(0,g.useQuery)({queryKey:["owner-bookings"],queryFn:async()=>(await b.default.get("/bookings")).data,enabled:!!u}),{data:B,isLoading:D}=(0,g.useQuery)({queryKey:["property",S],queryFn:async()=>{let e=await b.default.get(`/properties/${S}`);return e.data?.property||e.data},enabled:M&&!!u}),O=(0,y.useMutation)({mutationFn:async e=>{await b.default.delete(`/properties/${e}`)},onSuccess:()=>{h({title:"Property deleted successfully"}),d.invalidateQueries({queryKey:["owner-properties"]})}}),I=(0,y.useMutation)({mutationFn:async({bookingId:e,status:t})=>{await b.default.patch(`/bookings/${e}`,{status:t})},onSuccess:()=>{d.invalidateQueries({queryKey:["owner-bookings"]})}});if(!u||!c)return null;if(M)return D?null:B?(0,t.jsx)(C.PropertyForm,{mode:"edit",propertyId:S,initialData:B,onSuccess:()=>e.push("/owner/dashboard")}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsx)(p.Card,{children:(0,t.jsxs)(p.CardContent,{className:"py-12 text-center",children:[(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Property not found."}),(0,t.jsx)(m.Button,{onClick:()=>e.push("/owner/dashboard"),children:"Back to Dashboard"})]})})})});let L=F.length,E=F.filter(e=>"approved"===e.status).length,K=F.filter(e=>"pending"===e.status).length,A=q.length,$=q.filter(e=>"pending"===e.status).length,U=q.filter(e=>"approved"===e.status).reduce((e,t)=>e+(t.rent||0),0);return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Owner Dashboard"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Welcome back, ",c.name,"!"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,t.jsx)(w,{title:"Total Properties",value:L,subtitle:`${E} approved, ${K} pending`,icon:(0,t.jsx)(a.Home,{})}),(0,t.jsx)(w,{title:"Total Bookings",value:A,subtitle:`${$} pending approval`,icon:(0,t.jsx)(n.Calendar,{})}),(0,t.jsx)(w,{title:"Total Revenue",value:`₹${U.toLocaleString()}`,subtitle:"From approved bookings",icon:(0,t.jsx)(o.DollarSign,{})}),(0,t.jsx)(w,{title:"Interested Tenants",value:A,subtitle:"Booking requests",icon:(0,t.jsx)(l.Users,{})})]}),(0,t.jsxs)(x.Tabs,{defaultValue:"properties",className:"space-y-6",children:[(0,t.jsx)("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:(0,t.jsxs)(x.TabsList,{className:"flex gap-2 min-w-max",children:[(0,t.jsx)(x.TabsTrigger,{value:"properties",children:"My Properties"}),(0,t.jsx)(x.TabsTrigger,{value:"bookings",children:"Booking Requests"}),(0,t.jsx)(x.TabsTrigger,{value:"earnings",children:"Earnings"})]})}),(0,t.jsxs)(x.TabsContent,{value:"properties",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Your Properties"}),(0,t.jsx)(i.default,{href:"/owner/properties/new",children:(0,t.jsx)(m.Button,{children:"Add New Property"})})]}),0===F.length?(0,t.jsx)(k,{text:"No properties yet",children:(0,t.jsx)(i.default,{href:"/owner/properties/new",children:(0,t.jsx)(m.Button,{children:"Add Your First Property"})})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(s=>(0,t.jsx)(R,{property:s,canEdit:!0,onView:()=>e.push(`/properties/${s._id}`),onEdit:()=>e.push(`/owner/dashboard?propertyId=${s._id}&mode=edit`),onDelete:()=>{confirm("Are you sure you want to delete this property?")&&O.mutate(s._id)}},s._id))})]}),(0,t.jsx)(x.TabsContent,{value:"bookings",children:0===q.length?(0,t.jsx)(k,{text:"No booking requests yet"}):q.map(e=>(0,t.jsx)(P,{booking:e,onUpdate:I.mutate,loading:I.isPending},e._id))}),(0,t.jsx)(x.TabsContent,{value:"earnings",children:(0,t.jsxs)(p.Card,{children:[(0,t.jsx)(p.CardHeader,{children:(0,t.jsx)(p.CardTitle,{children:"Total Revenue"})}),(0,t.jsx)(p.CardContent,{children:(0,t.jsxs)("div",{className:"text-4xl font-bold text-primary",children:["₹",U.toLocaleString()]})})]})})]})]})})}function w({title:e,value:s,subtitle:r,icon:i}){return(0,t.jsxs)(p.Card,{children:[(0,t.jsxs)(p.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(p.CardTitle,{className:"text-sm font-medium",children:e}),i]}),(0,t.jsxs)(p.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:s}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:r})]})]})}function k({text:e,children:s}){return(0,t.jsx)(p.Card,{children:(0,t.jsxs)(p.CardContent,{className:"py-12 text-center",children:[(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:e}),s]})})}function R({property:e,canEdit:s,onView:r,onEdit:i,onDelete:a}){return(0,t.jsxs)(p.Card,{children:[e.images?.[0]&&(0,t.jsx)("img",{src:e.images[0],alt:e.name,className:"h-48 w-full object-cover"}),(0,t.jsxs)(p.CardHeader,{children:[(0,t.jsx)(p.CardTitle,{children:e.name}),(0,t.jsxs)(p.CardDescription,{children:[e.nearestCollege," • ",e.distanceFromCollege," km"]})]}),(0,t.jsxs)(p.CardContent,{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsxs)(m.Button,{variant:"outline",className:"flex-1",onClick:r,children:[(0,t.jsx)(d.Eye,{className:"mr-2 h-4 w-4"})," View"]}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(m.Button,{variant:"outline",className:"flex-1",onClick:i,children:[(0,t.jsx)(c,{className:"mr-2 h-4 w-4"})," Edit"]}),(0,t.jsx)(m.Button,{variant:"destructive",className:"flex-1",onClick:a,children:"Delete"})]})]})]})}function P({booking:e,onUpdate:s,loading:r}){return(0,t.jsxs)(p.Card,{className:"mb-4",children:[(0,t.jsx)(p.CardHeader,{children:(0,t.jsx)(p.CardTitle,{children:e.property?.name})}),(0,t.jsxs)(p.CardContent,{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{children:e.status.toUpperCase()}),"pending"===e.status&&(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(m.Button,{size:"sm",onClick:()=>s({bookingId:e._id,status:"approved"}),disabled:r,children:[(0,t.jsx)(u.Check,{className:"mr-1 h-4 w-4"})," Approve"]}),(0,t.jsxs)(m.Button,{size:"sm",variant:"destructive",onClick:()=>s({bookingId:e._id,status:"rejected"}),disabled:r,children:[(0,t.jsx)(h.X,{className:"mr-1 h-4 w-4"})," Reject"]})]})]})]})}e.s(["default",()=>N],39403)}]);